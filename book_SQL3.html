<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/report_sql.css">
    <title>SQL基本構文3</title>
</head>
<body>
    <header>
        <!-- <div class="header-logo">
            <p>ぬこねこノート</p>
        </div> -->
    </header>

    <main>
        <div class="top-wapper">
            <h1>SQL基本構文3</h1>
            <p>・よく使うSQL基本構文3</p>
        </div>

        <h2>SQL基本3</h2>


        <div class="contents-wapper">
            <hr>
            <h3>サブクエリ</h3>
            <code>
                <br>
                -- サブクエリが先に実行される
                <br>
                SELECT name
                <br>
                FROM
                <br>
                WHERE goals >(
                <br>
                SELECT goals
                <br>
                FROM
                <br>
                WHERE name = "ウィル"
                <br>
                );
                <br>
                <br>
                </code>
        </div>


        <div class="contents-wapper">
            <hr>
            <h3>別名</h3>
            <code>
                <br>
                -- 別名で出来る
                <br>
                SELECT goals AS "ウィルの得点数"
                <br>
                FROM
                <br>
                WHERE name = "ウィル"
                <br>
                <br>
        </code>
        </div>

        <div class="contents-wapper">
            <hr>
            <h3>テーブル結合(他のテーブルも一つとして見れるぜ)</h3>
            <code>
                <br>
                SELECT *
                <br>
                FROM テーブルA "# 基準(主キー)"
                <br>
                JOIN テーブルB "# 外部キー NULLだとそのデータは結合されない"
                <br>
                ON テーブルA.外部キー = テーブルB.主キー "# 結合条件"
                <br>
                <br>
                SELECT *
                <br>
                FROM players
                <br>
                JOIN countries
                <br>
                ON players.country_id = countries.id "# JOIN → SELECTの順で実行される"
                <br>
                <br>
            </code>
        </div>


        <div class="contents-wapper">
            <hr>
            <h3>テーブル名指定</h3>
            <code>
                <br>
                SELECT players.name, countries.name "# テーブル名を指定"
                <br>
                FROM players
                <br>
                JOIN countries
                <br>
                ON players.country_id = countries.id
                <br>
                <br>
            </code>
        </div>

        <div class="contents-wapper">
            <hr>
            <h3>WHEREの使い方</h3>
            <code>
                <br>
                SELECT *
                <br>
                FROM players
                <br>
                JOIN countries
                <br>
                ON players.country_id = countries.id
                <br>
                WHERE players.name = "ウィル" "# WHEREでも使用可"
                <br>
                <br>
            </code>
        </div>

        <div class="contents-wapper">
            <hr>
            <h3>GROUP BY使い方(何々ごとに)</h3>
            <code>
                <br>
                SELECT SUM(goals), countries.name "# goalはplayersのテーブル"
                <br>
                FROM players "# 主キー"
                <br>
                JOIN countries "# 外部キー"
                <br>
                ON players.country_id = countries.id
                <br>
                GROUP BY countries.name
                <br>
                <br>
            </code>
        </div>

        <div class="contents-wapper">
            <hr>
            <h3>LEFT JOIN(NULLのデータも結合して表示させたいぜ)</h3>
            <code>
                        <br>
                        SELECT *
                        <br>
                        FROM players
                        <br>
                        LEFT JOIN teams
                        <br>
                        ON players.prebious_team_id = teams.id
                        <br>
                        <br>
                    </code>
        </div>

        <div class="contents-wapper">
            <hr>
            <h3>複数テーブル結合</h3>
            <code>
                        <br>
                        SELECT *
                        <br>
                        FROM players
                        <br>
                        JOIN countries
                        <br>
                        ON players.country_id = countries.id
                        <br>
                        LEFT JOIN teams
                        <br>
                        ON players.prebious_team_id = teams.id "# JOINは何回でも使用可能"
                        <br>
                        <br>
                    </code>
        </div>

    </main>

    <footer>
        <!-- <div class="footer-logo">nukoneko</div> -->
    </footer>
</body>
</html>